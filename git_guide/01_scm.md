# 从版本配置管理说起

### 1. 软件工程中的软件配置管理

**先看一个例子**
![软件管理的问题](./images/git_doc.jpg)

如上图中的文件，两天或者一周之后你还能恢复到你想要的版本吗？恐怕很难，对于有洁癖的人看到一堆乱七八糟的东西可能想删除，但是又担心以后会用到，又不敢删除，真郁闷。你是否有这样的经历呢？

此时软件配置管理诞生了......

软件配置管理(`Software Configuration Management`，简称：`SCM`)也称为源代码控制、变更管理和版本控制。
软件配置管理系统通常在软件开发组中使用。如果有两个开发者更改了相同的文件，那么该文件可能被覆盖，并可能丢失关键代码更改。软件配置管理系统设计用于避免多用户环境中共享文件时存在的这一固有问题。

所有的软件配置管理系统都会创建中央存储库以便于文件共享，每个共享的文件必须添加到中央存仓库以创建该文件的第一个版本，文件被
中央存储库管理之后，其他人可以对其进行访问、更新等操作，从而创建新版本。

软件配置管理的产品有很多，比较出名的有：`Rational ClearCase`、`VSS(Microsoft Visual SourceSafe)`、`TFS(Microsoft Team Foundation Server)`、`CVS(Concurrent Versions System)`、`SVN(Subversion)`、`Git` 等。其中 `Git` 是其中的佼佼者，学习 `Git` 肯定是值得的。

### 2. Git 是什么

根据[官网](https://git-scm.com)的介绍，`Git` 是一个免费并且开源的完全分布式版本控制系统。依其速度和效率的优势解决项目的版本控制问题。

### 3. 如何理解 Git 的分布式

都说 `SVN` 是集中式版本控制系统，`Git` 是分布式版本控制系统，那如何理解 `Git` 的分布式呢？
先看如下两个图片：  
集中式：  
![集中式](./images/svn.jpg)

分布式：  
![分布式](./images/git.jpg)

根据上图你可能看出其中的差别了，但是还是不能理解什么是分布式。我就根据如上两个图片解释一下。

SVN 是集中式的代表，用过 `SVN` 的知道，首先，搭建一个远程中央仓库，使用者从上面 `checkout` 文件，然后对文件进行修改、提交。注意此处是 `checkout`，`checkout` 到本地的文件并不包含中央仓库的所有文件，例如分支、标签并没有 `checkout` 下来，如果需要还需单独 `checkout`。如果出现网络异常，本地的版本库并不能完成版本控制的功能。这个中央仓库既是版本库，又是开发者共享的媒介。

`Git` 是分布式的代表，如果团队使用 `Git`，也需要搭建一个远程中央仓库，使用者从上面 `clone` 文件，然后对文件进行修改，提交等操作。注意此处是 `clone`，
`clone` 到本地的版本库与远程仓库完全一致，即远程仓库有什么，本地仓库就有什么，包括日志，分支，标签等。此时的中央仓库仅仅是供团队进行文件共享的，
如果是个人进行版本控制，完全不需要远程仓库。

说道这里你理解分布式了吗？如果还没明白，继续学习，学完再回来进行体会。

### 4. Git 的诞生

`Linux` 系统是开源的，`Linux` 代码是由来自世界各地的程序员来共同维护的，那 `Linux` 代码是怎么维护的呢？

在 `2002` 年之前，完全是由 `Linus` 手工进行管理的，因为 `Linus` 坚定的反对 `CVS` 、`SVN` 这种集中式的版本控制系统，这种不但速度慢，而且必须联网才能使用。

`2002` 之后，系统版本代码比较庞大了，完全的手工管理已经跟不上时代的步伐了，`Linus` 选择了商业的分布式版本控制系统 `BitKeeper` ，`BitKeeper` 授权 `Linux` 免费使用。开发 `Linux` 系统的人员比较混杂，牛人更是数不胜数，有人试图破解 `BitKeeper` 的协议，被 `BitKeeper` 发现了，在 `2005` 年 `BitKeeper` 收回了对 `Linux` 社区的面试使用权限。但是 `Linux` 代码还得继续维护，所以 `Linus` 花了两周的时间自己写了一个分布式版本控制系统，取名 `Git`，一个月之后，`Linux` 代码已由 `Git` 完全托管，正所谓，自己动手，丰衣足食。 

`Linus` 在开发 `Git` 时，设定了几个目标：  

* 速度 
* 简单的设计
* 对非线性开发模式的强力支持（支持多分枝并行开发）
* 完全分布式
* 有能力管理类似 Linux 这样的超大规模项目

目前 `Git` 由 **滨野纯** 进行维护。

### 小结

本小结由版本配置管理说起，讲述了版本配置的由来，慢慢的引申到 `Git`，解决了大部分人的疑问：如何理解 `Git` 的分布式，最后讲述了 `Git` 的诞生。从此开启了 `Git` 之旅。
